



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="" href="https://maplelearc.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="" href="https://maplelearc.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="" href="https://maplelearc.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="Lua" />


<link rel="canonical" href="https://maplelearc.github.io/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/">


<meta name="description" content="# Lua 入门学习  # Lua 基本语法 # 交互式编程 Lua 提供了人交互式编程模式。可以在命令行中输出程序并立即查看效果  Lua 交互式编程通过命令 lua -i 或 lua 来启用： $ lua -i$ lua Lua 5.3.0  Copyright (C) 1994-2015 Lua.org, PUC-Rio&gt;在命令行中，输入以下命令： &gt; print(&quot;Hello world!">
<meta property="og:type" content="article">
<meta property="og:title" content="Lua 入门学习">
<meta property="og:url" content="https://maplelearc.github.io/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name">
<meta property="og:description" content="# Lua 入门学习  # Lua 基本语法 # 交互式编程 Lua 提供了人交互式编程模式。可以在命令行中输出程序并立即查看效果  Lua 交互式编程通过命令 lua -i 或 lua 来启用： $ lua -i$ lua Lua 5.3.0  Copyright (C) 1994-2015 Lua.org, PUC-Rio&gt;在命令行中，输入以下命令： &gt; print(&quot;Hello world!">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545745294943-c022acad-e773-4c4e-a469-fdf7b8517204.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545746389947-7897ad1a-bbd1-4476-abe4-5f9ea9530fb0.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545793869721-221c9099-efbc-4138-a2b0-1d5ecb0710d9.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545793890024-9bf3634c-bced-4a3b-a03b-8155d389d483.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545793918054-299b32a1-7e74-465f-9ad6-6c46aa29ad3c.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545794105298-442f3ac5-fbe0-4f54-87c0-324dd4c9c761.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795069201-5fce3157-e13f-4f9f-b0d0-e192ad94e769.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795441489-29359564-29c0-4153-9d50-4844cce2e22c.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795625575-64b9f249-ad85-4d9f-862a-5cd0ffcbb041.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795674871-1b606327-d0f9-42a6-b2d4-9d80989d0922.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795704210-35cebb75-bc38-457b-98f5-648a9cb680d8.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545795776591-cf111597-927b-4ea3-af19-15f56fee05b2.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545796915099-182b544e-343b-4338-827b-16d5ce9807ff.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545796934445-08762e3c-8245-4964-ba85-d2469ae31630.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545796955997-b3a7dee8-81f8-42ce-9631-1f0e30b15143.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545796993558-cd2c7425-bff9-46c2-96f7-40ab6574733b.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545799061644-a6952d51-146a-4331-a0f6-2eeb9c40ac00.png">
<meta property="og:image" content="http://lgqimg.changzer.cn/img/1545799123960-edb58671-3992-4e1c-9e3d-4c84aac76664.png">
<meta property="article:published_time" content="2022-10-08T09:41:18.000Z">
<meta property="article:modified_time" content="2022-10-10T07:22:24.865Z">
<meta property="article:author" content="Maple">
<meta property="article:tag" content="Lua">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://lgqimg.changzer.cn/img/1545745294943-c022acad-e773-4c4e-a469-fdf7b8517204.png">


  <title>
Lua 入门学习 - Lua - 计算机语言学习 |
Maple Blog =  = 与君初相识，犹如故人归</title>
<meta name="generator" content="Hexo 6.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Lua 入门学习
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2022-10-08 17:41:18">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2022-10-08T17:41:18+08:00">2022-10-08</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Maple Blog</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipewr8iypj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclxxcb6rj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclflwv2aj20zk0m84qp.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclgrvbd6j20zk0m8qv5.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span><i class="ic i-angle-right"></i>
<span  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" itemprop="item" rel="index" title="分类于 计算机语言学习"><span itemprop="name">计算机语言学习</span></a>
<meta itemprop="position" content="1" /></span>
<i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/Lua/" itemprop="item" rel="index" title="分类于 Lua"><span itemprop="name">Lua</span></a>
<meta itemprop="position" content="2" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://maplelearc.github.io/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar(1).png">
    <meta itemprop="name" content="Maple">
    <meta itemprop="description" content="与君初相识，犹如故人归, Maple 的编程学习">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="lua-入门学习"><a class="markdownIt-Anchor" href="#lua-入门学习">#</a> Lua 入门学习</h1>
<hr>
<h2 id="lua-基本语法"><a class="markdownIt-Anchor" href="#lua-基本语法">#</a> Lua 基本语法</h2>
<h3 id="交互式编程"><a class="markdownIt-Anchor" href="#交互式编程">#</a> 交互式编程</h3>
<p>Lua 提供了人交互式编程模式。可以在命令行中输出程序并立即查看效果<br>
 Lua 交互式编程通过命令 lua -i 或 lua 来启用：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ lua <span class="token parameter variable">-i</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ lua Lua <span class="token number">5.3</span>.0  Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">1994</span>-2015 Lua.org, PUC-Rio</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">></span></pre></td></tr></table></figure><p>在命令行中，输入以下命令：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">></span> print<span class="token punctuation">(</span><span class="token string">"Hello world!"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>按下回车，得到以下结果：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">></span> print<span class="token punctuation">(</span><span class="token string">"Hello World！"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Hello World！</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">></span></pre></td></tr></table></figure><h3 id="脚本编程"><a class="markdownIt-Anchor" href="#脚本编程">#</a> 脚本编程</h3>
<p>我们可以将 Lua 程序代码保持到一个以 lua 结尾的文件，并执行，该模式称为脚本式编程，如我们将如下代码存储在名为 hello.lua 的脚本文件中：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>print<span class="token punctuation">(</span><span class="token string">"Hello World！"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>使用 lua 名执行以上脚本，输出结果为：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ lua test.lua</pre></td></tr><tr><td data-num="2"></td><td><pre>Hello World！</pre></td></tr></table></figure><p>我们也可以将代码修改为如下形式来执行脚本（在开头添加：#!/usr/local/bin/lua）：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/usr/local/bin/lua</span></pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span><span class="token string">"Hello World！"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码中，我们指定了 Lua 的解释器 /usr/local/bin directory。加上 # 号标记解释器会忽略它。接下来我们为脚本添加可执行权限，并执行：</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>./test.lua</pre></td></tr><tr><td data-num="2"></td><td><pre>Hello World！</pre></td></tr></table></figure><h3 id="注释"><a class="markdownIt-Anchor" href="#注释">#</a> 注释</h3>
<h4 id="单行注释"><a class="markdownIt-Anchor" href="#单行注释">#</a> 单行注释</h4>
<p>两个减号是单行注释</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--</span></pre></td></tr></table></figure><h4 id="多行注释"><a class="markdownIt-Anchor" href="#多行注释">#</a> 多行注释</h4>
<pre><code>--[[
多行注释
多行注释
--]]
</code></pre>
<h3 id="标示符"><a class="markdownIt-Anchor" href="#标示符">#</a> 标示符</h3>
<p>Lua 标示符用于定义一个变量，函数获取其他用户定义的项。标示符以一个字母 A 到 Z 或 a 到 z 或下划线 _ 开头后加上 0 个或多个字母，下划线，数字（0 到 9）。最好不要使用下划线加大写字母的标示符，因为 Lua 的保留字也是这样的。</p>
<p>Lua 不允许使用特殊字符如 @, $, 和 % 来定义标示符。 Lua 是一个区分大小写的编程语言。因此在 Lua 中 Test 与 test 是两个不同的标示符。以下列出了一些正确的标示符：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>mohd         zara      abc     move_name    a_123</pre></td></tr><tr><td data-num="2"></td><td><pre>myname50     _temp     j       a23b9        retVal</pre></td></tr></table></figure><h4 id="关键词"><a class="markdownIt-Anchor" href="#关键词">#</a> 关键词</h4>
<p>以下列出了 Lua 的保留关键字。保留关键字不能作为常量或变量或其他用户自定义标示符：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545745294943-c022acad-e773-4c4e-a469-fdf7b8517204.png" alt="img"></p>
<p>一般约定，以下划线开头连接一串大写字母的名字（比如 _VERSION）被保留用于 Lua 内部全局变量。</p>
<h3 id="全局变量"><a class="markdownIt-Anchor" href="#全局变量">#</a> 全局变量</h3>
<p>在默认情况下，变量总是认为是全局的。全局变量不需要声明，给一个变量赋值后即创建了这个全局变量，访问一个没有初始化的全局变量也不会出错，只不过得到的结果是：nil。</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">></span> print<span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>nil</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">></span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">10</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">></span> print<span class="token punctuation">(</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">></span></pre></td></tr></table></figure><p>如果你想删除一个全局变量，只需要将变量赋值为 nil。</p>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>b <span class="token operator">=</span> nil</pre></td></tr><tr><td data-num="2"></td><td><pre>print<span class="token punctuation">(</span>b<span class="token punctuation">)</span>      --<span class="token operator">></span> nil</pre></td></tr></table></figure><p>这样变量 b 就好像从没被使用过一样。换句话说，当且仅当一个变量不等于 nil 时，这个变量即存在。</p>
<hr>
<h2 id="lua-数据类型"><a class="markdownIt-Anchor" href="#lua-数据类型">#</a> Lua 数据类型</h2>
<p>Lua 是动态数据类型语言，变量不要类型定义，只需要为变量赋值。 值可以存储在变量中，作为参数传递或结果返回。</p>
<p>Lua 中有 8 个基本类型分别为：nil、boolean、number、string、userdata、function、thread 和 table。</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545746389947-7897ad1a-bbd1-4476-abe4-5f9ea9530fb0.png" alt="img"></p>
<p>我们可以使用 type 函数测试给定变量或者值的类型：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">--> string</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">10.4</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>             <span class="token comment">--> number</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment">--> function</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span>               <span class="token comment">--> function</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>               <span class="token comment">--> boolean</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token comment">--> nil</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment">--> string</span></pre></td></tr></table></figure><h3 id="nil空"><a class="markdownIt-Anchor" href="#nil空">#</a> nil (空)</h3>
<p>nil 表示一个没有任何有效值，它只有一个值–nil，例如打印一个没有赋值的变量，就会输出一个 nil 值：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">nil</span></pre></td></tr></table></figure><p>对于全局变量和 table，nil 还有一个 “删除” 作用，给全局变量或者 table 表里的变量赋一个 nil 值，等同于把它们删掉。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>tab1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> key1 <span class="token operator">=</span> <span class="token string">"val1"</span><span class="token punctuation">,</span> key2 <span class="token operator">=</span> <span class="token string">"val2"</span><span class="token punctuation">,</span> <span class="token string">"val3"</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>tab1<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>k <span class="token operator">..</span> <span class="token string">" - "</span> <span class="token operator">..</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>tab1<span class="token punctuation">.</span>key1 <span class="token operator">=</span> <span class="token keyword">nil</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>tab1<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>k <span class="token operator">..</span> <span class="token string">" - "</span> <span class="token operator">..</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token operator">-</span>val3</pre></td></tr><tr><td data-num="2"></td><td><pre>key1<span class="token operator">-</span>val1</pre></td></tr><tr><td data-num="3"></td><td><pre>key2<span class="token operator">-</span>val2</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">1</span><span class="token operator">-</span>val3</pre></td></tr><tr><td data-num="7"></td><td><pre>key2<span class="token operator">-</span>val2</pre></td></tr></table></figure><p>nil 作比较时应该加上双引号 &quot;：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">type</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">type</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">nil</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">type</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"nil"</span></pre></td></tr></table></figure><p>结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">nil</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">false</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">true</span></pre></td></tr></table></figure><h3 id="boolean"><a class="markdownIt-Anchor" href="#boolean">#</a> boolean</h3>
<p>boolean 类型只有两个可选值：true（真） 和 false（假），Lua 把 false 和 nil 看作是 &quot;假&quot;，其他的都为 &quot;真&quot;:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token keyword">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span> <span class="token keyword">false</span> <span class="token keyword">or</span> <span class="token keyword">nil</span> <span class="token keyword">then</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"至少有一个是true"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">else</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"false和nil都为false"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>boolean</pre></td></tr><tr><td data-num="2"></td><td><pre>boolean</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">nil</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">false</span>和<span class="token keyword">nil</span>都为<span class="token keyword">false</span></pre></td></tr></table></figure><h3 id="number数字"><a class="markdownIt-Anchor" href="#number数字">#</a> number (数字)</h3>
<p>Lua 默认只有一种 number 类型 – double（双精度）类型（默认类型可以修改 luaconf.h 里的定义），以下几种写法都被看作是 number 类型：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">2e+1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">0.2e-1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token number">7.8263692594256e-06</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行结果为:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>number</pre></td></tr><tr><td data-num="2"></td><td><pre>number</pre></td></tr><tr><td data-num="3"></td><td><pre>number</pre></td></tr><tr><td data-num="4"></td><td><pre>number</pre></td></tr><tr><td data-num="5"></td><td><pre>number</pre></td></tr><tr><td data-num="6"></td><td><pre>number</pre></td></tr></table></figure><h3 id="string字符串"><a class="markdownIt-Anchor" href="#string字符串">#</a> string (字符串)</h3>
<p>字符串由一对双引号或单引号来表示。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>string1 <span class="token operator">=</span> <span class="token string">"this is string1"</span></pre></td></tr><tr><td data-num="2"></td><td><pre>string2 <span class="token operator">=</span> <span class="token string">'this is string2'</span></pre></td></tr></table></figure><p>也可以用 2 个方括号 “[[]]” 来表示 &quot;一块&quot; 字符串</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>html <span class="token operator">=</span> <span class="token string">[[</pre></td></tr><tr><td data-num="2"></td><td><pre>&lt;html></pre></td></tr><tr><td data-num="3"></td><td><pre>&lt;head>&lt;/head></pre></td></tr><tr><td data-num="4"></td><td><pre>&lt;body></pre></td></tr><tr><td data-num="5"></td><td><pre>    &lt;a href="http://www.baidu.com/">百度&lt;/a></pre></td></tr><tr><td data-num="6"></td><td><pre>&lt;/body></pre></td></tr><tr><td data-num="7"></td><td><pre>&lt;/html></pre></td></tr><tr><td data-num="8"></td><td><pre>]]</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>html<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>body<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.baidu.com/"</span><span class="token operator">></span>百度<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></pre></td></tr></table></figure><p>在对一个数字字符串上进行算术操作时，Lua 会尝试将这个数字字符串转成一个数字：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token operator">+</span><span class="token string">"6"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"2+6"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"-2e2"</span><span class="token operator">*</span><span class="token string">"6"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行以上代码为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">2</span><span class="token operator">+</span><span class="token number">6</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">-</span><span class="token number">1200</span></pre></td></tr></table></figure><p>若是执行下面的代码：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"error"</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>则会报错。Lua 中字符串连接使用的是 <code>..</code></p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a"</span> <span class="token operator">..</span> <span class="token string">'b'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">157</span> <span class="token operator">..</span> <span class="token number">428</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>ab</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">157428</span></pre></td></tr></table></figure><p>使用 **#** 来计算字符串的长度，放在字符串的前面：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>len <span class="token operator">=</span> <span class="token string">"www.baidu.com"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">#</span>len<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">#</span><span class="token string">"ww.baidu.com"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">13</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">13</span></pre></td></tr></table></figure><h3 id="table表"><a class="markdownIt-Anchor" href="#table表">#</a> table (表)</h3>
<p>在 Lua 里，table 的创建是通过 &quot;构造表达式&quot; 来完成，最简单构造表达式是 {}，用来创建一个空表。也可以在表里添加一些数据，直接初始化表:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 创建一个空的 table</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">local</span> tbl1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">-- 直接初始表</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">local</span> tbl2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"pear"</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">,</span> <span class="token string">"grape"</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>Lua 中的表（table）其实是一个 &quot;关联数组&quot;（associative arrays），数组的索引可以是数字或者是字符串。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"value"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>key <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">22</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>k <span class="token operator">..</span> <span class="token string">" : "</span> <span class="token operator">..</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>脚本执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>key <span class="token punctuation">:</span> value</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">10</span> <span class="token punctuation">:</span> <span class="token number">30</span></pre></td></tr></table></figure><p>不同于其他语言的数组把 0 作为数组的初始索引，在 Lua 里表的默认初始索引一般以 1 开始。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">local</span> tbl <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"pear"</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">,</span> <span class="token string">"grape"</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> key<span class="token punctuation">,</span> val <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>tbl<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Key"</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>脚本执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>Key    <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Key    <span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre>Key    <span class="token number">3</span></pre></td></tr><tr><td data-num="4"></td><td><pre>Key    <span class="token number">4</span></pre></td></tr></table></figure><p>table 不会固定长度大小，有新数据添加时 table 长度会自动增长，没初始的 table 都是 nil。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    a3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a3<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"val"</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">[</span><span class="token string">"none"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>脚本执行结果：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>val</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">nil</span></pre></td></tr></table></figure><h3 id="function函数"><a class="markdownIt-Anchor" href="#function函数">#</a> function (函数)</h3>
<p>在 Lua 中，函数是被看作是 &quot;第一类值（First-Class Value）&quot;，函数可以存在变量里:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">factorial1</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">then</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorial1</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">factorial1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>factorial2 <span class="token operator">=</span> factorial1</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">factorial2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>脚本执行结果为：</p>
<pre><code>120
120
</code></pre>
<p>function 可以以匿名函数（anonymous function）的方式通过参数传递:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">testFun</span><span class="token punctuation">(</span>tab<span class="token punctuation">,</span>fun<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">for</span> k <span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>tab<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">fun</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>tab<span class="token operator">=</span><span class="token punctuation">&#123;</span>key1<span class="token operator">=</span><span class="token string">"val1"</span><span class="token punctuation">,</span>key2<span class="token operator">=</span><span class="token string">"val2"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">testFun</span><span class="token punctuation">(</span>tab<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token comment">-- 匿名函数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">return</span> key<span class="token operator">..</span><span class="token string">"="</span><span class="token operator">..</span>val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>脚本执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>key1 <span class="token operator">=</span> val1</pre></td></tr><tr><td data-num="2"></td><td><pre>key2 <span class="token operator">=</span> val2</pre></td></tr></table></figure><h3 id="thread线程"><a class="markdownIt-Anchor" href="#thread线程">#</a> thread (线程)</h3>
<p>在 Lua 里，最主要的线程是协同程序（coroutine）。它跟线程（thread）差不多，拥有自己独立的栈、局部变量和指令指针，可以跟其他协同程序共享全局变量和其他大部分东西。</p>
<p>线程跟协程的区别：线程可以同时多个运行，而协程任意时刻只能运行一个，并且处于运行状态的协程只有被挂起（suspend）时才会暂停。</p>
<h3 id="userdata自定义类型"><a class="markdownIt-Anchor" href="#userdata自定义类型">#</a> userdata (自定义类型)</h3>
<p>userdata 是一种用户自定义数据，用于表示一种由应用程序或 C/C++ 语言库所创建的类型，可以将任意 C/C++ 的任意数据类型的数据（通常是 struct 和 指针）存储到 Lua 变量中调用。</p>
<hr>
<h2 id="lua-变量"><a class="markdownIt-Anchor" href="#lua-变量">#</a> Lua 变量</h2>
<p>变量在使用前，必须在代码中进行声明，即创建该变量。</p>
<p>编译程序执行代码之前编译器需要知道如何给语句变量开辟存储区，用于存储变量的值。</p>
<p>Lua 变量有三种类型：全局变量、局部变量、表中的域。</p>
<ul>
<li>
<p>Lua 中的变量全是全局变量，那怕是语句块或是函数里，除非用 local 显式声明为局部变量。</p>
</li>
<li>
<p>局部变量的作用域为从声明位置开始到所在语句块结束。</p>
</li>
<li>
<p>变量的默认值均为 nil。</p>
</li>
</ul>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token number">5</span>               <span class="token comment">-- 全局变量</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">local</span> b <span class="token operator">=</span> <span class="token number">5</span>         <span class="token comment">-- 局部变量</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">function</span> <span class="token function">joke</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    c <span class="token operator">=</span> <span class="token number">5</span>           <span class="token comment">-- 全局变量</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">local</span> d <span class="token operator">=</span> <span class="token number">6</span>     <span class="token comment">-- 局部变量</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">joke</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span>          <span class="token comment">--> 5 nil</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token number">6</span>     <span class="token comment">-- 局部变量</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    b <span class="token operator">=</span> <span class="token number">6</span>           <span class="token comment">-- 对局部变量重新赋值</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">--> 6 6</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>      <span class="token comment">--> 5 6</span></pre></td></tr></table></figure><p>执行以上实例输出结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">5</span>    <span class="token keyword">nil</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">6</span>    <span class="token number">6</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">5</span>    <span class="token number">6</span></pre></td></tr></table></figure><h3 id="赋值语句"><a class="markdownIt-Anchor" href="#赋值语句">#</a> 赋值语句</h3>
<p>赋值是改变一个变量的值和改变表域的最基本的方法。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">=</span> <span class="token string">"hello"</span> <span class="token operator">..</span> <span class="token string">"world"</span></pre></td></tr><tr><td data-num="2"></td><td><pre>t<span class="token punctuation">.</span>n <span class="token operator">=</span> t<span class="token punctuation">.</span>n <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr></table></figure><p>Lua 可以对多个变量同时赋值，变量列表和值列表的各个元素用逗号分开，赋值语句右边的值会依次赋给左边的变量。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>x       <span class="token operator">&lt;</span><span class="token comment">-->       a=10; b=2*x</span></pre></td></tr></table></figure><p>遇到赋值语句 Lua 会先计算右边所有的值然后再执行赋值操作，所以我们可以这样进行交换变量的值：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x                     <span class="token comment">-- swap 'x' for 'y'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>         <span class="token comment">-- swap 'a[i]' for 'a[j]'</span></pre></td></tr></table></figure><p>当变量个数和值的个数不一致时，Lua 会一直以变量个数为基础采取以下策略：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token punctuation">.</span> 变量个数 <span class="token operator">></span> 值的个数             按变量个数补足<span class="token keyword">nil</span></pre></td></tr><tr><td data-num="2"></td><td><pre>b<span class="token punctuation">.</span> 变量个数 <span class="token operator">&lt;</span> 值的个数             多余的值会被忽略</pre></td></tr></table></figure><p>例如：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>             <span class="token comment">--> 0   1   nil</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>a<span class="token punctuation">,</span> b <span class="token operator">=</span> a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">+</span><span class="token number">2</span>     <span class="token comment">-- value of b+2 is ignored</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>               <span class="token comment">--> 1   2</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>             <span class="token comment">--> 0   nil   nil</span></pre></td></tr></table></figure><p>多值赋值经常用来交换变量，或将函数调用返回给变量：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>f () 返回两个值，第一个赋给 a，第二个赋给 b。</p>
<p>应该尽可能的使用局部变量，有两个好处：1. 避免命名冲突。2. 访问局部变量的速度比全局变量更快。</p>
<h3 id="索引"><a class="markdownIt-Anchor" href="#索引">#</a> 索引</h3>
<p>对 table 的索引使用方括号 [];Lua 也提供了。操作。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>t<span class="token punctuation">.</span>i                 <span class="token comment">-- 当索引为字符串类型时的一种简化写法</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">gettable_event</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token comment">-- 采用索引访问本质上是一个类似这样的函数调用</span></pre></td></tr></table></figure><p>例如:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>site <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>site<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"www.baidu.cc"</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>site<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>site<span class="token punctuation">.</span>key<span class="token punctuation">)</span></pre></td></tr></table></figure><p>结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>cc</pre></td></tr><tr><td data-num="2"></td><td><pre>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>cc</pre></td></tr></table></figure><hr>
<h2 id="lua-循环"><a class="markdownIt-Anchor" href="#lua-循环">#</a> Lua 循环</h2>
<p>很多情况下我们需要做一些有规律性的重复操作，因此在程序中就需要重复执行某些语句。</p>
<p>一组被重复执行的语句称之为循环体，能否继续重复，决定循环的终止条件。</p>
<p>循环结构是在一定条件下反复执行某段程序的流程结构，被反复执行的程序被称为循环体。</p>
<p>循环语句是由循环体及循环的终止条件两部分组成的。</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545793869721-221c9099-efbc-4138-a2b0-1d5ecb0710d9.png" alt="img"></p>
<p>Lua 语言提供了以下几种循环处理方式：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545793890024-9bf3634c-bced-4a3b-a03b-8155d389d483.png" alt="img"></p>
<p><strong>循环控制语句</strong></p>
<p>循环控制语句用于控制程序的流程， 以实现程序的各种结构方式。</p>
<p>Lua 支持以下循环控制语句：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545793918054-299b32a1-7e74-465f-9ad6-6c46aa29ad3c.png" alt="img"></p>
<p><strong>无限循环</strong></p>
<p>在循环体中如果条件永远为 true 循环语句就会永远执行下去，以下以 while 循环为例：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token keyword">true</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"循环将永远执行下去"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><h3 id="while-循环"><a class="markdownIt-Anchor" href="#while-循环">#</a> while 循环</h3>
<h4 id="语法"><a class="markdownIt-Anchor" href="#语法">#</a> 语法</h4>
<p>Lua 编程语言中 while 循环语法：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    statements</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>statements (循环体语句) 可以是一条或多条语句，condition (条件) 可以是任意表达式，在 condition (条件) 为 true 时执行循环体语句。 流程图如下：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545794105298-442f3ac5-fbe0-4f54-87c0-324dd4c9c761.png" alt="img"></p>
<p>在以上流程图中我们可以看出在 condition (条件) 为 false 时会跳过当前循环并开始脚本执行紧接着的语句。</p>
<h4 id="示例"><a class="markdownIt-Anchor" href="#示例">#</a> 示例</h4>
<p>以下实例循环输出 a 的值：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">=</span><span class="token number">10</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span> a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为:"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   a <span class="token operator">=</span> a<span class="token operator">+</span><span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>执行以上代码，输出结果如下：</p>
<pre><code>a 的值为:    10
a 的值为:    11
a 的值为:    12
a 的值为:    13
a 的值为:    14
a 的值为:    15
a 的值为:    16
a 的值为:    17
a 的值为:    18
a 的值为:    19
</code></pre>
<h3 id="for-循环"><a class="markdownIt-Anchor" href="#for-循环">#</a> for 循环</h3>
<p>Lua 编程语言中 for 循环语句可以重复执行指定语句，重复次数可在 for 语句中控制。</p>
<p>Lua 编程语言中 for 语句有两大类：：</p>
<ul>
<li>
<p>数值 for 循环</p>
</li>
<li>
<p>泛型 for 循环</p>
</li>
</ul>
<h4 id="数值-for-循环"><a class="markdownIt-Anchor" href="#数值-for-循环">#</a> 数值 for 循环</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> var<span class="token operator">=</span>exp1<span class="token punctuation">,</span>exp2<span class="token punctuation">,</span>exp3 <span class="token keyword">do</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">&lt;</span>执行体<span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>var 从 exp1 变化到 exp2，每次变化以 exp3 为步长递增 var，并执行一次 &quot;执行体&quot;。exp3 是可选的，如果不指定，默认为 1。</p>
<ul>
<li><code>var</code>  首先执行，执行一次。此步骤允许声明和初始化任何循环控制变量</li>
<li>接下来执行 <code>exp2</code> 。 这是循环继续执行的最大值或最小值。 它在内部创建条件检查，以比较初始值和最大 / 最小值。</li>
<li>在执行 <code>for</code>  循环体之后，控制流会跳回到 <code>exp3</code>  语句。此语句用于更新循环控制变量。</li>
<li>再次评估条件。 如果为真，则循环执行并且过程自身重复 (循环体，然后递增步骤，然后再次调节)。 条件变为 <code>false</code>  后， <code>for</code>  循环终止。</li>
</ul>
<h5 id="实例"><a class="markdownIt-Anchor" href="#实例">#</a> 实例</h5>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>for 的三个表达式在循环开始前一次性求值，以后不再进行求值。比如上面的 f (x) 只会在循环开始前执行一次，其结果用在后面的循环中。</p>
<p>验证如下:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"function"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> x<span class="token operator">*</span><span class="token number">2</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>以上实例输出结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">5</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">7</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token number">9</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token number">10</span></pre></td></tr></table></figure><h4 id="泛型-for-循环"><a class="markdownIt-Anchor" href="#泛型-for-循环">#</a> 泛型 for 循环</h4>
<p>泛型 for 循环通过一个迭代器函数来遍历所有值，类似 java 中的 foreach 语句。Lua 编程语言中泛型 for 循环语法格式:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">-- 打印数组 a 的所有值</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">do</span> <span class="token function">print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>i 是数组索引值，v 是对应索引的数组元素值。ipairs 是 Lua 提供的一个迭代器函数，用来迭代数组。</p>
<h5 id="实例-2"><a class="markdownIt-Anchor" href="#实例-2">#</a> 实例</h5>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>days <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"Suanday"</span><span class="token punctuation">,</span><span class="token string">"Monday"</span><span class="token punctuation">,</span><span class="token string">"Tuesday"</span><span class="token punctuation">,</span><span class="token string">"Wednesday"</span><span class="token punctuation">,</span><span class="token string">"Thursday"</span><span class="token punctuation">,</span><span class="token string">"Friday"</span><span class="token punctuation">,</span><span class="token string">"Saturday"</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>以上实例输出结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>Suanday</pre></td></tr><tr><td data-num="2"></td><td><pre>Monday</pre></td></tr><tr><td data-num="3"></td><td><pre>Tuesday</pre></td></tr><tr><td data-num="4"></td><td><pre>Wednesday</pre></td></tr><tr><td data-num="5"></td><td><pre>Thursday</pre></td></tr><tr><td data-num="6"></td><td><pre>Friday</pre></td></tr><tr><td data-num="7"></td><td><pre>Saturday</pre></td></tr></table></figure><h3 id="repeatuntil-循环"><a class="markdownIt-Anchor" href="#repeatuntil-循环">#</a> repeat…until 循环</h3>
<p>Lua 编程语言中 repeat…until 循环语句不同于 for 和 while 循环，for 和 while 循环的条件语句在当前循环执行开始时判断，而 repeat…until 循环的条件语句在当前循环结束后判断。</p>
<h4 id="语法-2"><a class="markdownIt-Anchor" href="#语法-2">#</a> 语法</h4>
<p>Lua 编程语言中 repeat…until 循环语法格式:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   statements</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">until</span><span class="token punctuation">(</span> condition <span class="token punctuation">)</span></pre></td></tr></table></figure><p>我们注意到循环条件判断语句（condition）在循环体末尾部分，所以在条件进行判断前循环体都会执行一次。</p>
<p>如果条件判断语句（condition）为 false，循环会重新开始执行，直到条件判断语句（condition）为 true 才会停止执行。</p>
<p>Lua repeat…until 循环流程图如下：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795069201-5fce3157-e13f-4f9f-b0d0-e192ad94e769.png" alt="img"></p>
<h4 id="实例-3"><a class="markdownIt-Anchor" href="#实例-3">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[变量定义 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">--[执行循环 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a的值为:"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">until</span><span class="token punctuation">(</span> a <span class="token operator">></span> <span class="token number">15</span> ）</pre></td></tr></table></figure><p>执行以上代码，程序输出结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">10</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">11</span></pre></td></tr><tr><td data-num="3"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">12</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">13</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">14</span></pre></td></tr><tr><td data-num="6"></td><td><pre>a的值为<span class="token punctuation">:</span>    <span class="token number">15</span></pre></td></tr></table></figure><h3 id="嵌套循环"><a class="markdownIt-Anchor" href="#嵌套循环">#</a> 嵌套循环</h3>
<h4 id="语法-3"><a class="markdownIt-Anchor" href="#语法-3">#</a> 语法</h4>
<p>Lua 编程语言中  <code>for</code>  循环嵌套语法格式:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> init<span class="token punctuation">,</span>max<span class="token operator">/</span>min value<span class="token punctuation">,</span> increment</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">for</span> init<span class="token punctuation">,</span>max<span class="token operator">/</span>min value<span class="token punctuation">,</span> increment</pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      statements</pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   statements</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>Lua 编程语言中  <code>while</code>  循环嵌套语法格式:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">while</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      statements</pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   statements</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>Lua 编程语言中  <code>repeat...until</code>  循环嵌套语法格式:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   statements</pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      statements</pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token keyword">until</span><span class="token punctuation">(</span> condition <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">until</span><span class="token punctuation">(</span> condition <span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id="实例-4"><a class="markdownIt-Anchor" href="#实例-4">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>j <span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">for</span> j<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">(</span>i<span class="token operator">/</span>j<span class="token punctuation">)</span> <span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">not</span><span class="token punctuation">(</span>i<span class="token operator">%</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token keyword">then</span></pre></td></tr><tr><td data-num="6"></td><td><pre>         <span class="token keyword">break</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">></span> <span class="token punctuation">(</span>i<span class="token operator">/</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">then</span></pre></td></tr><tr><td data-num="9"></td><td><pre>         <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"i 的值为："</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token keyword">end</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>以上代码执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>i 的值为：    <span class="token number">8</span></pre></td></tr><tr><td data-num="2"></td><td><pre>i 的值为：    <span class="token number">9</span></pre></td></tr><tr><td data-num="3"></td><td><pre>i 的值为：    <span class="token number">10</span></pre></td></tr></table></figure><h3 id="break-语句"><a class="markdownIt-Anchor" href="#break-语句">#</a> break 语句</h3>
<p>Lua 编程语言 break 语句插入在循环体中，用于退出当前循环或语句，并开始脚本执行紧接着的语句。</p>
<p>如果你使用循环嵌套，break 语句将停止最内层循环的执行，并开始执行的外层的循环语句。</p>
<h4 id="语法-4"><a class="markdownIt-Anchor" href="#语法-4">#</a> 语法</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">break</span></pre></td></tr></table></figure><p>流程图：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795441489-29359564-29c0-4153-9d50-4844cce2e22c.png" alt="img"></p>
<h4 id="实例-5"><a class="markdownIt-Anchor" href="#实例-5">#</a> 实例</h4>
<p>下实例执行 while 循环，在变量 a 小于 20 时输出 a 的值，并在 a 大于 15 时终止执行循环：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[定义变量 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">--[while 循环 --]</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span> a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为:"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   a<span class="token operator">=</span>a<span class="token operator">+</span><span class="token number">1</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   <span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">></span> <span class="token number">15</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token keyword">then</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token comment">--[使用 break 语句终止循环 --]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token keyword">break</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>以上代码执行结果如下：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">10</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">11</span></pre></td></tr><tr><td data-num="3"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">12</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">13</span></pre></td></tr><tr><td data-num="5"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">14</span></pre></td></tr><tr><td data-num="6"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">15</span></pre></td></tr></table></figure><hr>
<h2 id="lua-流程控制"><a class="markdownIt-Anchor" href="#lua-流程控制">#</a> Lua 流程控制</h2>
<p>Lua 编程语言流程控制语句通过程序设定一个或多个条件语句来设定。在条件为 true 时执行指定程序代码，在条件为 false 时执行其他指定代码。</p>
<p>下图是典型的流程控制流程图：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795625575-64b9f249-ad85-4d9f-862a-5cd0ffcbb041.png" alt="img"></p>
<p>控制结构的条件表达式结果可以是任何值，Lua 认为 false 和 nil 为假，true 和非 nil 为真。<br>
要注意的是 Lua 中 0 为 true：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[0 为 true]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"0 为 true"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>以上代码输出结果为:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">0</span> 为 <span class="token keyword">true</span></pre></td></tr></table></figure><p>Lua 提供了以下控制结构语句：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795674871-1b606327-d0f9-42a6-b2d4-9d80989d0922.png" alt="img"></p>
<h3 id="if-语句"><a class="markdownIt-Anchor" href="#if-语句">#</a> if 语句</h3>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span>布尔表达式<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token comment">--[在布尔表达式为 true 时执行的语句 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>在布尔表达式为 true 时会 if 中的代码块会被执行，在布尔表达式为 false 时，紧跟在 if 语句 end 之后的代码会被执行。Lua 认为 false 和 nil 为假，true 和非 nil 为真。要注意的是 Lua 中 0 为 true。</p>
<p>if 语句流程图如下：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795704210-35cebb75-bc38-457b-98f5-648a9cb680d8.png" alt="img"></p>
<h4 id="实例-6"><a class="markdownIt-Anchor" href="#实例-6">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[定义变量 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">--[使用 if 语句 --]</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token comment">--[if 条件为 true 时打印以下信息 --]</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 小于 20"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为:"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a 小于 <span class="token number">20</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a 的值为<span class="token punctuation">:</span>    <span class="token number">10</span></pre></td></tr></table></figure><h3 id="ifelse-语句"><a class="markdownIt-Anchor" href="#ifelse-语句">#</a> if…else 语句</h3>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span>布尔表达式<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token comment">--[布尔表达式为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token comment">--[布尔表达式为 false 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>在布尔表达式为 true 时会 if 中的代码块会被执行，在布尔表达式为 false 时，else 的代码块会被执行。Lua 认为 false 和 nil 为假，true 和非 nil 为真。要注意的是 Lua 中 0 为 true。</p>
<p>if 语句流程图如下：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545795776591-cf111597-927b-4ea3-af19-15f56fee05b2.png" alt="img"></p>
<h4 id="实例-7"><a class="markdownIt-Anchor" href="#实例-7">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[定义变量 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">--[检查条件 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token comment">--[if 条件为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 小于 20"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">else</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   <span class="token comment">--[if 条件为 false 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 大于 20"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 :"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span></pre></td></tr></table></figure><p>执行结果：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a 大于 <span class="token number">20</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a 的值为 <span class="token punctuation">:</span>    <span class="token number">100</span></pre></td></tr></table></figure><h3 id="ifelse-ifelse-语句"><a class="markdownIt-Anchor" href="#ifelse-ifelse-语句">#</a> if…else if…else 语句</h3>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> 布尔表达式 <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token comment">--[在布尔表达式 1 为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">elseif</span><span class="token punctuation">(</span> 布尔表达式 <span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token comment">--[在布尔表达式 2 为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">elseif</span><span class="token punctuation">(</span> 布尔表达式 <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token comment">--[在布尔表达式 3 为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">else</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token comment">--[如果以上布尔表达式都不为 true 则执行该语句块 --]</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><h4 id="实例-8"><a class="markdownIt-Anchor" href="#实例-8">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[定义变量 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">--[检查布尔条件 --]</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token comment">--[如果条件为 true 打印以下信息 --]</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 10"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">elseif</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">20</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token comment">--[if else if 条件为 true 时打印以下信息 --]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 20"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">elseif</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">30</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="15"></td><td><pre>   <span class="token comment">--[if else if condition 条件为 true 时打印以下信息 --]</span></pre></td></tr><tr><td data-num="16"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 30"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">else</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   <span class="token comment">--[以上条件语句没有一个为 true 时打印以下信息 --]</span></pre></td></tr><tr><td data-num="19"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"没有匹配 a 的值"</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的真实值为: "</span><span class="token punctuation">,</span> a <span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码执行结果如下：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>没有匹配 a 的值</pre></td></tr><tr><td data-num="2"></td><td><pre>a 的真实值为<span class="token punctuation">:</span>     <span class="token number">100</span></pre></td></tr></table></figure><h3 id="if-嵌套语句"><a class="markdownIt-Anchor" href="#if-嵌套语句">#</a> if 嵌套语句</h3>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> 布尔表达式 <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token comment">--[布尔表达式 1 为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">if</span><span class="token punctuation">(</span>布尔表达式 <span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token keyword">then</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token comment">--[布尔表达式 2 为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><h5 id="实例-9"><a class="markdownIt-Anchor" href="#实例-9">#</a> 实例</h5>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[定义变量 --]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>b <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">--[检查条件 --]</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">==</span> <span class="token number">100</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">then</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token comment">--[if 条件为 true 时执行以下 if 条件判断 --]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   <span class="token keyword">if</span><span class="token punctuation">(</span> b <span class="token operator">==</span> <span class="token number">200</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token keyword">then</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token comment">--[if 条件为 true 时执行该语句块 --]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 100 b 的值为 200"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a 的值为 :"</span><span class="token punctuation">,</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"b 的值为 :"</span><span class="token punctuation">,</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>以上代码执行结果如下：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a 的值为 <span class="token number">100</span> b 的值为 <span class="token number">200</span></pre></td></tr><tr><td data-num="2"></td><td><pre>a 的值为 <span class="token punctuation">:</span>    <span class="token number">100</span></pre></td></tr><tr><td data-num="3"></td><td><pre>b 的值为 <span class="token punctuation">:</span>    <span class="token number">200</span></pre></td></tr></table></figure><hr>
<h2 id="lua-函数"><a class="markdownIt-Anchor" href="#lua-函数">#</a> Lua 函数</h2>
<p>在 Lua 中，函数是对语句和表达式进行抽象的主要方法。既可以用来处理一些特殊的工作，也可以用来计算一些值。Lua 提供了许多的内建函数，你可以很方便的在程序中调用它们，如 print () 函数可以将传入的参数打印在控制台上。</p>
<p>Lua 函数主要有两种用途：</p>
<ul>
<li>
<p>1. 完成指定的任务，这种情况下函数作为调用语句使用；</p>
</li>
<li>
<p>2. 计算并返回值，这种情况下函数作为赋值语句的表达式使用。</p>
</li>
</ul>
<h3 id="函数定义"><a class="markdownIt-Anchor" href="#函数定义">#</a> 函数定义</h3>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>optional_function_scope <span class="token keyword">function</span> <span class="token function">function_name</span><span class="token punctuation">(</span> argument1<span class="token punctuation">,</span> argument2<span class="token punctuation">,</span> argument3<span class="token punctuation">...</span><span class="token punctuation">,</span> argumentn<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    function_body</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> result_params_comma_separated</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>解析</p>
<ul>
<li>
<p>optional_function_scope: 该参数是可选的制定函数是全局函数还是局部函数，未设置该参数默认为全局函数，如果你需要设置函数为局部函数需要使用关键字 local。</p>
</li>
<li>
<p>function_name: 指定函数名称。</p>
</li>
<li>
<p>argument1, argument2, argument3…, argumentn: 函数参数，多个参数以逗号隔开，函数也可以不带参数。</p>
</li>
<li>
<p>function_body: 函数体，函数中需要执行的代码语句块。</p>
</li>
<li>
<p>result_params_comma_separated: 函数返回值，Lua 语言函数可以返回多个值，每个值以逗号隔开。</p>
</li>
</ul>
<h4 id="实例-10"><a class="markdownIt-Anchor" href="#实例-10">#</a> 实例</h4>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">--[[函数返回两个值的最大值 --]]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span> <span class="token function">max</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">></span> num2<span class="token punctuation">)</span> <span class="token keyword">then</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      result <span class="token operator">=</span> num1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">else</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      result <span class="token operator">=</span> num2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token keyword">return</span> result<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">-- 调用函数</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"两值比较最大值为 "</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"两值比较最大值为 "</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>两值比较最大值为     <span class="token number">10</span></pre></td></tr><tr><td data-num="2"></td><td><pre>两值比较最大值为     <span class="token number">6</span></pre></td></tr></table></figure><p>Lua 中我们可以将函数作为参数传递给函数，如下实例：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>myprint <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"这是打印函数 -   ##"</span><span class="token punctuation">,</span>param<span class="token punctuation">,</span><span class="token string">"##"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">,</span>functionPrint<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   result <span class="token operator">=</span> num1 <span class="token operator">+</span> num2</pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token comment">-- 调用传递的函数参数</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token function">functionPrint</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">myprint</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">-- myprint 函数作为参数传递</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>myprint<span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>这是打印函数 <span class="token operator">-</span>   <span class="token operator">#</span><span class="token operator">#</span>    <span class="token number">10</span>    <span class="token operator">#</span><span class="token operator">#</span></pre></td></tr><tr><td data-num="2"></td><td><pre>这是打印函数 <span class="token operator">-</span>   <span class="token operator">#</span><span class="token operator">#</span>    <span class="token number">7</span>    <span class="token operator">#</span><span class="token operator">#</span></pre></td></tr></table></figure><h3 id="多返回值"><a class="markdownIt-Anchor" href="#多返回值">#</a> 多返回值</h3>
<p>Lua 函数可以返回多个结果值，比如 string.find，其返回匹配串 &quot;开始和结束的下标&quot;（如果不存在匹配串返回 nil）。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>s<span class="token punctuation">,</span> e <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">,</span> <span class="token string">"baidu"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">)</span></pre></td></tr></table></figure><p>结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">5</span>    <span class="token number">9</span></pre></td></tr></table></figure><p>Lua 函数中，在 return 后列出要返回的值得列表即可返回多值，如</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">maximum</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">local</span> mi <span class="token operator">=</span> <span class="token number">1</span>             <span class="token comment">-- 最大值索引</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">local</span> m <span class="token operator">=</span> a<span class="token punctuation">[</span>mi<span class="token punctuation">]</span>          <span class="token comment">-- 最大值</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">for</span> i<span class="token punctuation">,</span>val <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>       <span class="token keyword">if</span> val <span class="token operator">></span> m <span class="token keyword">then</span></pre></td></tr><tr><td data-num="6"></td><td><pre>           mi <span class="token operator">=</span> i</pre></td></tr><tr><td data-num="7"></td><td><pre>           m <span class="token operator">=</span> val</pre></td></tr><tr><td data-num="8"></td><td><pre>       <span class="token keyword">end</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">return</span> m<span class="token punctuation">,</span> mi</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码执行结果为：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">23</span>    <span class="token number">3</span></pre></td></tr></table></figure><h3 id="可变参数"><a class="markdownIt-Anchor" href="#可变参数">#</a> 可变参数</h3>
<p>Lua 函数可以接受可变数目的参数，和 C 语言类似，在函数参数列表中使用三点 … 表示函数有可变的参数。</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">local</span> s <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">&#123;</span><span class="token punctuation">...</span><span class="token punctuation">&#125;</span> <span class="token keyword">do</span>   <span class="token comment">--> &#123;...&#125; 表示一个由所有变长参数构成的数组</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    s <span class="token operator">=</span> s <span class="token operator">+</span> v</pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">end</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">return</span> s</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">--->25</span></pre></td></tr></table></figure><p>我们可以将可变参数赋值给一个变量。例如，我们计算几个数的平均值：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   result <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">local</span> arg<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">...</span><span class="token punctuation">&#125;</span>    <span class="token comment">--> arg 为一个表，局部变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      result <span class="token operator">=</span> result <span class="token operator">+</span> v</pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"总共传入 "</span> <span class="token operator">..</span> <span class="token operator">#</span>arg <span class="token operator">..</span> <span class="token string">" 个数"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token keyword">return</span> result<span class="token operator">/</span><span class="token operator">#</span>arg</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"平均值为"</span><span class="token punctuation">,</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">25</span></pre></td></tr></table></figure><p>我们也可以通过 select (&quot;#&quot;,…) 来获取可变参数的数量:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   result <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token keyword">local</span> arg<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">...</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">for</span> i<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      result <span class="token operator">=</span> result <span class="token operator">+</span> v</pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"总共传入 "</span> <span class="token operator">..</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">,</span><span class="token punctuation">...</span><span class="token punctuation">)</span> <span class="token operator">..</span> <span class="token string">" 个数"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token keyword">return</span> result<span class="token operator">/</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">,</span><span class="token punctuation">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"平均值为"</span><span class="token punctuation">,</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>有时候我们可能需要几个固定参数加上可变参数，固定参数必须放在变长参数之前:</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">fwrite</span><span class="token punctuation">(</span>fmt<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">)</span>  <span class="token comment">---> 固定的参数 fmt</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> io<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>fmt<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">end</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token string">"runoob\n"</span><span class="token punctuation">)</span>       <span class="token comment">--->fmt = "runoob", 没有变长参数。</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token string">"%d%d\n"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>   <span class="token comment">--->fmt = "% d% d", 变长参数为 1 和 1</span></pre></td></tr></table></figure><p>通常在遍历变长参数的时候只需要使用 {…}，然而变长参数可能会包含一些 nil，那么就可以用 select 函数来访问变长参数了：select (’#’, …) 或者 select (n, …)</p>
<ul>
<li>
<p>select (’#’, …) 返回可变参数的长度</p>
</li>
<li>
<p>select (n, …) 用于访问 n 到 select (’#’,…) 的参数</p>
</li>
</ul>
<p>调用 select 时，必须传入一个固定实参 selector (选择开关) 和一系列变长参数。如果 selector 为数字 n, 那么 select 返回它的第 n 个可变实参，否则只能为字符串 &quot;#&quot;, 这样 select 会返回变长参数的总数。例子代码：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">)</span> <span class="token keyword">do</span>  <span class="token comment">--> 获取参数总数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token keyword">local</span> arg <span class="token operator">=</span> <span class="token function">select</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">--> 读取参数</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"arg"</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">end</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">end</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">end</span></pre></td></tr></table></figure><p>输出结果：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>arg    <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>arg    <span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre>arg    <span class="token number">3</span></pre></td></tr><tr><td data-num="4"></td><td><pre>arg    <span class="token number">4</span></pre></td></tr></table></figure><hr>
<h2 id="lua-运算符"><a class="markdownIt-Anchor" href="#lua-运算符">#</a> Lua 运算符</h2>
<p>运算符是一个特殊的符号，用于告诉解释器执行特定的数学或逻辑运算。Lua 提供了以下几种运算符类型：</p>
<ul>
<li>
<p>算术运算符</p>
</li>
<li>
<p>关系运算符</p>
</li>
<li>
<p>逻辑运算符</p>
</li>
<li>
<p>其他运算符</p>
</li>
</ul>
<h3 id="算数运算符"><a class="markdownIt-Anchor" href="#算数运算符">#</a> 算数运算符</h3>
<p>下表列出了 Lua 语言中的常用算术运算符，设定 A 的值为 10，B 的值为 20：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545796915099-182b544e-343b-4338-827b-16d5ce9807ff.png" alt="img"></p>
<h3 id="关系运算符"><a class="markdownIt-Anchor" href="#关系运算符">#</a> 关系运算符</h3>
<p>下表列出了 Lua 语言中的常用关系运算符，设定 A 的值为 10，B 的值为 20：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545796934445-08762e3c-8245-4964-ba85-d2469ae31630.png" alt="img"></p>
<h3 id="逻辑运算符"><a class="markdownIt-Anchor" href="#逻辑运算符">#</a> 逻辑运算符</h3>
<p>下表列出了 Lua 语言中的常用逻辑运算符，设定 A 的值为 true，B 的值为 false：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545796955997-b3a7dee8-81f8-42ce-9631-1f0e30b15143.png" alt="img"></p>
<h3 id="其他运算符"><a class="markdownIt-Anchor" href="#其他运算符">#</a> 其他运算符</h3>
<p>下表列出了 Lua 语言中的连接运算符与计算表或字符串长度的运算符：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545796993558-cd2c7425-bff9-46c2-96f7-40ab6574733b.png" alt="img"></p>
<h3 id="运算符优先级"><a class="markdownIt-Anchor" href="#运算符优先级">#</a> 运算符优先级</h3>
<p>从高到低的顺序：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">^</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">not</span>    <span class="token operator">-</span> <span class="token punctuation">(</span>unary<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">*</span>      <span class="token operator">/</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">+</span>      <span class="token operator">-</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">..</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">&lt;</span>      <span class="token operator">></span>      <span class="token operator">&lt;=</span>     <span class="token operator">>=</span>     <span class="token operator">~=</span>     <span class="token operator">==</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">and</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">or</span></pre></td></tr></table></figure><p>除了 ^ 和… 外所有的二元运算符都是左连接的</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>a<span class="token operator">+</span>i <span class="token operator">&lt;</span> b<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span>          <span class="token operator">&lt;</span><span class="token comment">-->       (a+i) &lt; ((b/2)+1)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">5</span><span class="token operator">+</span>x<span class="token operator">^</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">8</span>              <span class="token operator">&lt;</span><span class="token comment">-->       5+((x^2)*8)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>a <span class="token operator">&lt;</span> y <span class="token keyword">and</span> y <span class="token operator">&lt;=</span> z     <span class="token operator">&lt;</span><span class="token comment">-->       (a &lt; y) and (y &lt;= z)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">-</span>x<span class="token operator">^</span><span class="token number">2</span>                 <span class="token operator">&lt;</span><span class="token comment">-->       -(x^2)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>x<span class="token operator">^</span>y<span class="token operator">^</span>z                <span class="token operator">&lt;</span><span class="token comment">-->       x^(y^z)</span></pre></td></tr></table></figure><hr>
<h2 id="lua-字符串"><a class="markdownIt-Anchor" href="#lua-字符串">#</a> Lua 字符串</h2>
<p>字符串或串 (String) 是由数字、字母、下划线组成的一串字符</p>
<p>Lua 语言中字符串可以使用以下三种方式来表示：</p>
<ul>
<li>
<p>单引号间的一串字符</p>
</li>
<li>
<p>双引号的一串字符</p>
</li>
<li>
<p>[[和]] 间的一串字符</p>
</li>
</ul>
<p>以上三种方式的字符串实例如下：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre>string1 <span class="token operator">=</span> <span class="token string">"Lua"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\"字符串 1 是\""</span><span class="token punctuation">,</span>string1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>string2 <span class="token operator">=</span> <span class="token string">'runoob.com'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"字符串 2 是"</span><span class="token punctuation">,</span>string2<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>string3 <span class="token operator">=</span> <span class="token string">[["Lua 教程"]]</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"字符串 3 是"</span><span class="token punctuation">,</span>string3<span class="token punctuation">)</span></pre></td></tr></table></figure><p>以上代码执行输出结果是：</p>
<figure class="highlight lua"><figcaption data-lang="lua"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token string">"字符串 1 是"</span>    Lua</pre></td></tr><tr><td data-num="2"></td><td><pre>字符串 <span class="token number">2</span> 是    runoob<span class="token punctuation">.</span>com</pre></td></tr><tr><td data-num="3"></td><td><pre>字符串 <span class="token number">3</span> 是    <span class="token string">"Lua 教程"</span></pre></td></tr></table></figure><p>转义字符用于表示不能直接显示的字符，比如后退键，回车键，等。如在字符串转换双引号可以使用 “”&quot;。所有的转义字符和所对应的意义：</p>
<p><img data-src="http://lgqimg.changzer.cn/img/1545799061644-a6952d51-146a-4331-a0f6-2eeb9c40ac00.png" alt="img"></p>
<h3 id="字符串操作"><a class="markdownIt-Anchor" href="#字符串操作">#</a> 字符串操作</h3>
<p><img data-src="http://lgqimg.changzer.cn/img/1545799123960-edb58671-3992-4e1c-9e3d-4c84aac76664.png" alt="img"></p>
<h3 id="字符串格式化"><a class="markdownIt-Anchor" href="#字符串格式化">#</a> 字符串格式化</h3>
<p>Lua 提供了 string.format () 函数来生成具有特定格式的字符串，函数的第一个参数是格式，之后是对应格式中每个代号的各种数据。</p>
<p>由于格式字符串的存在，使得产生的长字符串可读性大大提高了。这个函数的格式很像 C 语言中的 printf ()。</p>
<p>以下实例演示了如何对字符串进行格式化操作：格式字符串可能包含以下的转义码:</p>
<ul>
<li>
<p>% c - 接受一个数字，并将其转化为 ASCII 码表中对应的字符</p>
</li>
<li>
<p>% d, % i - 接受一个数字并将其转化为有符号的整数格式</p>
</li>
<li>
<p>% o - 接受一个数字并将其转化为八进制数格式</p>
</li>
<li>
<p>% u - 接受一个数字并将其转化为无符号整数格式</p>
</li>
<li>
<p>% x - 接受一个数字并将其转化为十六进制数格式，使用小写字母</p>
</li>
<li>
<p>% X - 接受一个数字并将其转化为十六进制数格式，使用大写字母</p>
</li>
<li>
<p>% e - 接受一个数字并将其转化为科学记数法格式，使用小写字母 e</p>
</li>
<li>
<p>% E - 接受一个数字并将其转化为科学记数法格式，使用大写字母 E</p>
</li>
<li>
<p>% f - 接受一个数字并将其转化为浮点数格式</p>
</li>
<li>
<p>% g (% G) - 接受一个数字并将其转化为 % e (% E, 对应 % G) 及 % f 中较短的一种格式</p>
</li>
<li>
<p>% q - 接受一个字符串并将其转化为可安全被 Lua 编译器读入的格式</p>
</li>
<li>
<p>% s - 接受一个字符串并按照给定的参数格式化该字符串</p>
</li>
</ul>
<p>为进一步细化格式，可以在 % 号后添加参数。参数将以如下的顺序读入:</p>
<ul>
<li>
<p>(1) 符号：一个 + 号表示其后的数字转义符将让正数显示正号。默认情况下只有负数显示符号.</p>
</li>
<li>
<p>(2) 占位符：一个 0, 在后面指定了字串宽度时占位用。不填时的默认占位符是空格.</p>
</li>
<li>
<p>(3) 对齐标识：在指定了字串宽度时，默认为右对齐，增加 - 号可以改为左对齐.</p>
</li>
<li>
<p>(4) 宽度数值</p>
</li>
<li>
<p>(5) 小数位数 / 字串裁切：在宽度数值后增加的小数部分 n, 若后接 f (浮点数转义符，如 %6.3f) 则设定该浮点数的小数只保留 n 位，若后接 s (字符串转义符，如 %5.3s) 则设定该字符串只显示前 n 位.</p>
</li>
</ul>

      <div class="tags">
          <a href="/tags/Lua/" rel="tag"><i class="ic i-tag"></i> Lua</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2022-10-10 15:22:24" itemprop="dateModified" datetime="2022-10-10T15:22:24+08:00">2022-10-10</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>请我喝[茶]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="Maple 微信支付">
        <p>微信支付</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="Maple 支付宝">
        <p>支付宝</p>
      </div>
      
      <div>
        <img data-src="/images/paypal.png" alt="Maple 贝宝">
        <p>贝宝</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>Maple <i class="ic i-at"><em>@</em></i>
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="https://maplelearc.github.io/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/" title="Lua 入门学习">https://maplelearc.github.io/2022/10/08/Lua学习/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2022/10/05/CSAPP/%E3%80%8ACSAPP%EF%BC%9A%E7%AC%AC%E4%B8%80%E7%AB%A0%E3%80%8B/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipewkhf1zj20zk0m81kx.jpg" title="CSAPP:第一章">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> 第一章</span>
  <h3>CSAPP:第一章</h3>
  </a>

    </div>
    <div class="item right">
    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#lua-%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text"> Lua 入门学习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text"> Lua 基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 交互式编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text"> 脚本编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.3.</span> <span class="toc-text"> 注释</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.3.1.</span> <span class="toc-text"> 单行注释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.3.2.</span> <span class="toc-text"> 多行注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%A4%BA%E7%AC%A6"><span class="toc-number">1.1.4.</span> <span class="toc-text"> 标示符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E8%AF%8D"><span class="toc-number">1.1.4.1.</span> <span class="toc-text"> 关键词</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.5.</span> <span class="toc-text"> 全局变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text"> Lua 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nil%E7%A9%BA"><span class="toc-number">1.2.1.</span> <span class="toc-text"> nil (空)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#boolean"><span class="toc-number">1.2.2.</span> <span class="toc-text"> boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#number%E6%95%B0%E5%AD%97"><span class="toc-number">1.2.3.</span> <span class="toc-text"> number (数字)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.2.4.</span> <span class="toc-text"> string (字符串)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#table%E8%A1%A8"><span class="toc-number">1.2.5.</span> <span class="toc-text"> table (表)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#function%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.6.</span> <span class="toc-text"> function (函数)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thread%E7%BA%BF%E7%A8%8B"><span class="toc-number">1.2.7.</span> <span class="toc-text"> thread (线程)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#userdata%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.8.</span> <span class="toc-text"> userdata (自定义类型)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text"> Lua 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 赋值语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">1.3.2.</span> <span class="toc-text"> 索引</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.</span> <span class="toc-text"> Lua 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#while-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.1.</span> <span class="toc-text"> while 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">1.4.1.1.</span> <span class="toc-text"> 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.1.2.</span> <span class="toc-text"> 示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.2.</span> <span class="toc-text"> for 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC-for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.2.1.</span> <span class="toc-text"> 数值 for 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.4.2.1.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B-for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.2.2.</span> <span class="toc-text"> 泛型 for 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2"><span class="toc-number">1.4.2.2.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#repeatuntil-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.3.</span> <span class="toc-text"> repeat…until 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">1.4.3.1.</span> <span class="toc-text"> 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3"><span class="toc-number">1.4.3.2.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.4.4.</span> <span class="toc-text"> 嵌套循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="toc-number">1.4.4.1.</span> <span class="toc-text"> 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-4"><span class="toc-number">1.4.4.2.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.5.</span> <span class="toc-text"> break 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="toc-number">1.4.5.1.</span> <span class="toc-text"> 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-5"><span class="toc-number">1.4.5.2.</span> <span class="toc-text"> 实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.</span> <span class="toc-text"> Lua 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.1.</span> <span class="toc-text"> if 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-6"><span class="toc-number">1.5.1.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifelse-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.2.</span> <span class="toc-text"> if…else 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-7"><span class="toc-number">1.5.2.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifelse-ifelse-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.3.</span> <span class="toc-text"> if…else if…else 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-8"><span class="toc-number">1.5.3.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#if-%E5%B5%8C%E5%A5%97%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.4.</span> <span class="toc-text"> if 嵌套语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-9"><span class="toc-number">1.5.4.0.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.</span> <span class="toc-text"> Lua 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">1.6.1.</span> <span class="toc-text"> 函数定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-10"><span class="toc-number">1.6.1.1.</span> <span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.6.2.</span> <span class="toc-text"> 多返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">1.6.3.</span> <span class="toc-text"> 可变参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.</span> <span class="toc-text"> Lua 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.</span> <span class="toc-text"> 算数运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.2.</span> <span class="toc-text"> 关系运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.3.</span> <span class="toc-text"> 逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.4.</span> <span class="toc-text"> 其他运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">1.7.5.</span> <span class="toc-text"> 运算符优先级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lua-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.8.</span> <span class="toc-text"> Lua 字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.1.</span> <span class="toc-text"> 字符串操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">1.8.2.</span> <span class="toc-text"> 字符串格式化</span></a></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
        <ul>
          <li class="active"><a href="/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/" rel="bookmark" title="Lua入门学习">Lua入门学习</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Maple"
      data-src="/images/avatar(1).png">
  <p class="name" itemprop="name">Maple</p>
  <div class="description" itemprop="description">Maple 的编程学习</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">9</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">9</span>
        <span class="name">分类</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">9</span>
        <span class="name">标签</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hcGxlbGVhcmM=" title="https:&#x2F;&#x2F;github.com&#x2F;maplelearc"><i class="ic i-github"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span>
      <span class="exturl item email" data-url="bWFpbHRvOm1hcGxlbGVhcmNAZ21haWwuY29t" title="mailto:maplelearc@gmail.com"><i class="ic i-envelope"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>关于</a>
  </li>

    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="分类于 计算机语言学习">计算机语言学习</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/Lua/" title="分类于 Lua">Lua</a>
</div>

    <span><a href="/2022/10/08/Lua%E5%AD%A6%E4%B9%A0/" title="Lua入门学习">Lua入门学习</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="分类于 计算机网络">计算机网络</a>
</div>

    <span><a href="/2022/10/03/NetWork/%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E5%BA%94%E7%94%A8%E5%B1%82/" title="《计算机网络：自定向下》第二章：应用层">《计算机网络：自定向下》第二章：应用层</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="分类于 计算机网络">计算机网络</a>
</div>

    <span><a href="/2022/10/03/NetWork/%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E6%A6%82%E8%BF%B0/" title="《计算机网络：自定向下》第一章：概述">《计算机网络：自定向下》第一章：概述</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/CSAPP/" title="分类于 CSAPP">CSAPP</a>
<i class="ic i-angle-right"></i>
<a href="/categories/CSAPP/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" title="分类于 第二章">第二章</a>
</div>

    <span><a href="/2022/10/05/CSAPP/%E3%80%8ACSAPP%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%E3%80%8B/" title="CSAPP:第二章">CSAPP:第二章</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 算法和数据结构">算法和数据结构</a>
</div>

    <span><a href="/2022/10/03/%E7%AE%97%E6%B3%95/" title="算法和数据结构">算法和数据结构</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="分类于 计算机网络">计算机网络</a>
</div>

    <span><a href="/2022/10/03/NetWork/%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E4%BC%A0%E8%BE%93%E5%B1%82/" title="《计算机网络：自定向下》第三章：传输层">《计算机网络：自定向下》第三章：传输层</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="分类于 计算机语言学习">计算机语言学习</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/SQL%E8%AF%AD%E8%A8%80/" title="分类于 SQL 语言">SQL 语言</a>
</div>

    <span><a href="/2022/10/04/Mysql/" title="MySql">MySql</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="分类于 计算机语言学习">计算机语言学习</a>
<i class="ic i-angle-right"></i>
<a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/C/" title="分类于 C#">C#</a>
</div>

    <span><a href="/2022/10/03/%E3%80%8ACS%E5%9B%BE%E8%A7%A3%E6%95%99%E7%A8%8B%E3%80%8B%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BF%86%E7%82%B9/" title="《C#图解教程》阅读记忆点">《C#图解教程》阅读记忆点</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/CSAPP/" title="分类于 CSAPP">CSAPP</a>
<i class="ic i-angle-right"></i>
<a href="/categories/CSAPP/%E7%AC%AC%E4%B8%80%E7%AB%A0/" title="分类于 第一章">第一章</a>
</div>

    <span><a href="/2022/10/05/CSAPP/%E3%80%8ACSAPP%EF%BC%9A%E7%AC%AC%E4%B8%80%E7%AB%A0%E3%80%8B/" title="CSAPP:第一章">CSAPP:第一章</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 
    <span itemprop="copyrightYear">2022</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Maple @ Maple Blog</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2022/10/08/Lua学习/',
    favicon: {
      show: "（●´3｀●）やれやれだぜ",
      hide: "(´Д｀)大変だ！"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,
    copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
